{
"title": "【javascript】关于js对象中，属性的“非常规”使用感受",
"index": "5",
"date" : "2016-07-25",
"tag"  : "javascript，json",
"content": [
"<strong>【Preface】</strong>",
"<p>之前关于js中对象的介绍，稍微了解到一点，js对象操作属性有两种方式：点号引用和中括号引用。</p>",
"<p>后来实际使用中，感觉好像如果使用中括号，那对应的属性名，其实和数组的索引原理类似（至少看起来），然后根据实际应用，总结了一种“非常规”用途，稍微扩展一下的内容，好像都可以从这一点延伸扩展。</p>",
"<br><strong>【Main Body】</strong>",
"<p>先贴一下代码，把在preface中提到的两种方式更直观地展现一下：</p>",
"<div class=\"code-container\"><code>",
"<xmp><script></xmp>",
"<xmp class=\"indent-1\">var obj = {},</xmp>",
"<xmp class=\"indent-2\">attr1 = 'aaa',</xmp>",
"<xmp class=\"indent-2\">attr2 = 'bbb';</xmp>",
"<xmp class=\"indent-1\">obj.aaa = '000';</xmp>",
"<xmp class=\"indent-1\">console.info(obj.aaa);</xmp>",
"<xmp class=\"indent-1\">obj['aaa'] = '111';</xmp>",
"<xmp class=\"indent-1\">obj[attr2] = '222';</xmp>",
"<xmp class=\"indent-1\">console.info(obj.aaa);</xmp>",
"<xmp class=\"indent-1\">console.info(obj['aaa']);</xmp>",
"<xmp class=\"indent-1\">console.info(obj[attr1]);</xmp>",
"<xmp class=\"indent-1\">console.info(obj.bbb);</xmp>",
"<xmp class=\"indent-1\">console.info(obj['bbb']);</xmp>",
"<xmp class=\"indent-1\">console.info(obj[attr2]);</xmp>",
"<xmp></script></xmp>",
"</code></div>",
"<p>运行结果如下图所示：</p>",
"<div class=\"img-container size-xs\"><img src=\"res/papers/img/005-01.jpg\"></div>",
"<p>如图可见，上述代码中三种引用方式进行属性读取、修改。（好吧，其实是两种，只不过当属性名为一个变量时，也当做一种情况了）</p>",
"<br><strong>【比对匹配】</strong>",
"<p>假设现在有如下场景，后台返回一个指定编码，对应指定的内容，详细信息如下：</p>",
"<div class=\"refer-content\">",
"<p>'-1' : '到店',</p><p>'0' : '现付',</p><p>'10' : '网银',</p><p>'20' : '支付宝',</p><p>'30' : '微信',</p><p>'40' : '刷卡',</p><p>'90' : '拉卡拉',</p><p>'95' : '第三方平台',</p><p>'97' : '优惠券',</p><p>'98' : '账户余额',</p><p>'99' : '积分',</p><p>'100': '会员卡',</p><p>'101': '店内会员卡',</p><p>'102': '储值卡',</p><p>'110': '线下支付',</p><p>'111': '挂账'</p>",
"</div>",
"<p>在这里不得不先吐槽一下这个场景假设的有点不太现实，毕竟后台为什么不直接传对应的内容呢。好吧，暂且不用管这个，就假设有这么一个情景需要进行内容的比对匹配。</p>",
"<p>常规方式，可能想到定义一个数组，但是这些要比对的内容，对应的编码不连续啊，好像用数组不太适用啊。</p>",
"<p>所以另一种方式，可能就是写个swtich，然后一个个比对。但是如果要比的内容有100项，乃至1000项呢···这个时候就有点尴尬了。</p>",
"<p>最后，为了省点代码，就用js里面的对象属性当做索引来解决这一问题。</p>",
"<div class=\"code-container\"><code>",
"<xmp>var obj = {'-1':'到店','0':'现付','10' : '网银','20':'支付宝','30':'微信','40':'刷卡','90':'拉卡拉','95':'第三方平台','97':'优惠券','98':'账户余额','99':'积分','100':'会员卡','101':'店内会员卡','102':'储值卡','110':'线下支付','111':'挂账'}</xmp>",
"</code></div>",
"<p>定义后台传来的数据编码：var index = data.no；直接obj[index]，就能得到指定编码的内容是什么了。</p>",
"<br><strong>【Summary】</strong>",
"<p>最后，本来还想着说写个两三种用途的，好像一下子到了写的时候，又想不起来了（有另一个，也是关于匹配比对的，但是太麻烦，后续再更新吧）。</p>",
"<p>总结起来，就是js中，对象的属性，其实和数组的索引的原理类似，只不过对象的“索引”（即属性）不是连续的数值类型。</p>",
"<p>PS：其实是在使用for和for in的时候，才突然一下，然后想到了这个。另外，for和for in的效率，前者比后者高，还是有一定道理的，可能就是前者少做了一点循环工作吧。</p>"
]
}
